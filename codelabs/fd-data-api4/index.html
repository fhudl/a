
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Data API Tutorial</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid="UA-52746336-1"
                  id="fd-data-api4"
                  title="Data API Tutorial"
                  environment="web"
                  feedback-link="https://github.com/freshdesk/marketplace-sample-apps/">
    
      <google-codelab-step label="Prerequisites" duration="0">
        <p>Welcome to the Freshdesk Data API tutorial. You can use these APIs to retrieve information about different objects on a page.</p>
<h2 class="checklist" is-upgraded>What you&#39;ll learn</h2>
<ul class="checklist">
<li>How to create a simple sample app</li>
<li>How to use Data API to get contact and logged-in agent details<br></li>
</ul>
<p>Make sure you have the following prerequisites satisfied before diving into the tutorial.</p>
<p class="image-container"><img style="width: 467.50px" src="https://lh6.googleusercontent.com/hPrdmbsRnlxg4hMXLysTl60euFocGbvfTE_43j134o-JSzbP3LEeFN_FnR1bcu38rzw1FdOgp1GNRSu2yvxAdmAvwX2L2dk_gLFV0kmF9L89yKk3OYcVKRw4fxYbXbDVmg0NSmcZ"></p>
<p>Make sure you have the following prerequisites satisfied before diving into the tutorial.<br></p>
<ol type="1" start="1">
<li>You need to have <a href="https://developers.freshdesk.com/v2/docs/quick-start/#install_nvm" target="_blank">Node 8 installed</a>. </li>
<li>You need to have <a href="https://developers.freshdesk.com/v2/docs/quick-start/#install_the_cli" target="_blank">the latest FDK installed. </a></li>
</ol>
<aside class="special"><p><strong>ðŸ’¡Tip:</strong> `fdk version` can be used to validate if the installation went well. </p>
</aside>



      </google-codelab-step>
    
      <google-codelab-step label="Scaffolding" duration="0">
        <p>FDK offers scaffolding and it could give a head-start. Open the terminal window, navigate to an empty directory in which you want to create your app, and follow the given steps.</p>
<ol type="1" start="1">
<li>At the prompt, type <code>fdk create</code></li>
<li>From the product list, select a product and press Enter.</li>
<li>From the template list, select your_first_app and press Enter.</li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/54935699c7a5506.png"></p>
<p>This will create a project structure like this :<br></p>
<p class="image-container"><img style="width: 624.00px" src="img/a5a4ee8c4a7390fd.png"></p>
<aside class="special"><p><strong>ðŸ’¡Tip:</strong> You can also use â€˜fdk generate&#39; to generate platform artifacts. </p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Code Walkthrough" duration="0">
        <p>Let&#39;s take a closer look at the files that were created in the app.<br></p>
<p><strong>manifest.json</strong></p>
<p>The manifest file is used to store configuration information for the app.</p>
<h3 is-upgraded><a href="https://github.com/freshdesk/marketplace-sample-apps/blob/master/Freshdesk/v2/your_first_app/manifest.json" target="_blank"><strong>manifest.json</strong></a></h3>
<pre>{
      &#34;platform-version&#34;: &#34;2.0&#34;,
      &#34;product&#34;: {
        &#34;freshdesk&#34;: {
          &#34;location&#34;: {
            &#34;ticket_sidebar&#34;: {
              &#34;url&#34;: &#34;template.html&#34;,
              &#34;icon&#34;: &#34;icon.svg&#34;
            }
          }
        }
      }
    }
</pre>
<p>The platform-version key is automatically generated and used to infer the platform version that your app uses. This is used to ensure backward compatibility when a new version of the framework is released.</p>
<p>The product key is used to specify the product and location in which the app is rendered. This app is to be rendered in the <a href="https://developers.freshdesk.com/v2/docs/app-locations#ticketsidebar" target="_blank">ticket_sidebar</a> location in the Ticket Details page. url and icon specify the path (from the /app directory) to the template and icon files rendered in that location.</p>
<p>You can view the complete list of where apps can be rendered in the <a href="https://developers.freshdesk.com/v2/docs/app-locations#page_intro" target="_blank">App Locations</a> section.</p>
<p><strong>app/icon.svg</strong></p>
<p>This is the app icon specified in the manifest file. It is displayed at the right-hand side of the Ticket Details page. The app icon file is of SVG type with a resolution of 64 x 64 pixels.</p>
<p><strong>app/template.html</strong></p>
<p>Apps in the new Freshdesk UI are rendered inside an IFrame. This file contains the HTML markup for the app. It is a simple template that displays an image along with text which is dynamically generated in the app.js file.</p>
<h3 is-upgraded><a href="https://github.com/freshdesk/marketplace-sample-apps/blob/master/Freshdesk/v2/your_first_app/app/template.html" target="_blank"><strong>template.html</strong></a></h3>
<pre>&lt;html&gt;
  &lt;head&gt;
    &lt;script src=&#34;https://static.freshdev.io/fdk/2.0/assets/fresh_client.js&#34;&gt;&lt;/script&gt;
    &lt;script src=&#34;https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;script src=&#34;app.js&#34;&gt;&lt;/script&gt;
    &lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;https://static.freshdev.io/fdk/2.0/assets/freshdesk.css&#34;&gt;
    &lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;style.css&#34;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class=&#34;logo&#34;&gt;&lt;/div&gt;
    &lt;p id=&#34;apptext&#34;&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
<p>The template.html file includes the following:</p>
<ul>
<li><strong>fresh_client.js</strong> - This JS library enables the app to communicate with the parent page. The file is mandatory as the app runs in an IFrame and needs to communicate with the parent page in order to access data, listen to events, and trigger interface actions.</li>
<li><strong>jquery </strong>- This is used by app.js in line 9 where it adds text to the #apptext element.</li>
<li><strong>app.js</strong> - Establishes connection with the parent page to retrieve information about the ticket requester.</li>
<li><strong>freshdesk.css</strong> - Importing this css file ensures that the app maintains a UI that is consistent with the parent page. Anytime the parent page is redesigned, we update this stylesheet so that the app remains consistent.</li>
<li><strong>style.css</strong> - App specific stylesheet that contains style information for various UI components of the app.</li>
</ul>



      </google-codelab-step>
    
      <google-codelab-step label="Using the Data API" duration="0">
        <p>You can use these APIs to retrieve information about different objects on a page.</p>
<ul>
<li><a href="https://developers.freshdesk.com/v2/docs/data-api#global_data_apis" target="_blank">Global Data APIs</a></li>
<li><a href="https://developers.freshdesk.com/v2/docs/data-api#ticket_details_page_apis" target="_blank">Ticket Details page APIs</a></li>
<li><a href="https://developers.freshdesk.com/v2/docs/data-api#new_email_page_apis" target="_blank">New Email page API</a></li>
<li><a href="https://developers.freshdesk.com/v2/docs/data-api#contact_details_page_apis" target="_blank">Contact Details page APIs</a></li>
</ul>
<h3 is-upgraded><a href="https://github.com/freshdesk/marketplace-sample-apps/blob/master/Freshdesk/v2/your_first_app/app/app.js#L15-L20" target="_blank"><strong>Using &#39;contact&#39; object</strong></a></h3>
<pre>  function getContactData(client) {
    client.data.get(&#39;contact&#39;).then((data) =&gt; {
      $(&#39;#apptext&#39;).text(`Ticket created by ${data.contact.name}`);
      congratulations();
    });
  }</pre>


      </google-codelab-step>
    
      <google-codelab-step label="That&#39;s all folks" duration="0">
        

      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
